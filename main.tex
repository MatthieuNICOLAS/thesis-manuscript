\documentclass[12pt]{thesul}
%----------------------------------------------------------------------
%                               Packages
%----------------------------------------------------------------------
\usepackage[french]{babel}
\usepackage{acronym} % \ac[p], \acl[p], \acs[p], \acf[p]
\usepackage[sorting=none]{biblatex}
\bibliography{biblio.bib}
\usepackage{booktabs} % \toprule, \midrule, \cmidrule, \bottomrule
\usepackage{cancel} % \cancel
\usepackage{caption}
\usepackage{csquotes}
\usepackage{hyperref}
\hypersetup{hidelinks}
\usepackage[inline]{enumitem}
\usepackage{import} % \import
\usepackage[french]{minitoc}

\usepackage{xcolor}
\AtBeginDocument{
\definecolor{pdfurlcolor}{rgb}{0,0,0}
\definecolor{pdfcitecolor}{rgb}{0,0,0}
\definecolor{pdflinkcolor}{rgb}{0,0,0}
\definecolor{light}{gray}{.85}
\definecolor{vlight}{gray}{.95}
\definecolor{darkgreen}{RGB}{77,172,38}
\definecolor{darkblue}{RGB}{5,113,176}
\definecolor{mydarkblue}{RGB}{116,173,209}
\definecolor{mydarkblueid}{RGB}{83,154,198}
\definecolor{mylightblue}{RGB}{171,217,233}
\definecolor{mydarkorange}{RGB}{244,109,67}
\definecolor{mylightorange}{RGB}{252,153,54}
\definecolor{mydarkred}{RGB}{215,48,39}
\definecolor{mydarkpurple}{RGB}{140,107,177}
\definecolor{mydarkpurpleid}{RGB}{136,86,167}
}

\usepackage{amssymb}
\usepackage{amsmath}
\interdisplaylinepenalty=2500
\newtheorem{definition}{Définition}
\newtheorem{subdefinition}{Définition}[definition]
\newtheorem{myrule}{Règle}
\newtheorem{property}{Propriété}
\newtheorem{subproperty}{Propriété}[property]
\usepackage{MnSymbol} % \dashrightarrow

\usepackage{algorithm, algpseudocode}
\floatname{algorithm}{Algorithme} % Renomme caption de "Algorithm" -> "Algorithme"

\usepackage[draft,inline,nomargin,index]{fixme}
\fxsetup{theme=color,mode=multiuser,inlineface=\itshape,envface=\itshape}
\FXRegisterAuthor{mn}{amn}{Matthieu}

\usepackage{tikz} % \begin{tikzpicture} \end{tikzpicture}
\usetikzlibrary{calc}
\usetikzlibrary{graphs}
\usetikzlibrary{quotes}
\usetikzlibrary{shapes.misc}

\usepackage[caption=false,font=footnotesize,labelfont=sf,textfont=sf]{subfig}

\usepackage{pifont} % \ding
\renewcommand{\checkmark}{\ding{51}}
\newcommand{\ballotx}{\ding{55}}

\usepackage{xspace} % \xspace

% Commands
%---------
\newcommand{\eg}{e.g.\xspace}
\newcommand{\ie}{c.-à-d.\xspace}

\newcommand{\hb}{\emph{happens-before}\xspace}

\newcommand{\inbb}[1]{\in \mathbb{#1}}
\newcommand{\new}{\textbf{new}}
\newcommand{\trm}[1]{\mathit{#1}}
\newcommand{\set}[1]{\left\{#1\right\}} % set brace notation

\newcommand{\betterid}[3]{\trm{#1}^{\trm{#2}}_{\trm{#3}}}
\newcommand{\id}[3]{$\trm{#1}^{\trm{#2}}_{\trm{#3}}$}
\newcommand{\epoch}[1]{$\varepsilon_{#1}$}
\newcommand{\lid}{<_{id}}
\newcommand{\leqid}{$\leq_{id}$~}
\newcommand{\lepoch}{$<_{\varepsilon}$~}
\newcommand{\leqepoch}{$\leq_{\varepsilon}$~}
\newcommand{\ltuple}{<_{t}}

\newcommand{\bigO}[1]{$\mathcal{O}(#1)$}

\newcommand{\widthletter}{2em}
\newcommand{\widthblock}{3em}
\newcommand{\widthoriginepoch}{1.33em}
\newcommand{\widthepoch}{1.65em}

% Définit noms pour \autoref
%---------
\newcommand{\algorithmautorefname}{Algorithme}
\newcommand{\annexautorefname}{Annexe}
\newcommand{\definitionautorefname}{Définition}
\newcommand{\propertyautorefname}{Propriété}
\newcommand{\subfigureautorefname}{Figure}
\newcommand{\subpropertyautorefname}{Propriété}

% Tikz styles
\tikzset{
    common/.style={anchor=west, draw, rectangle, minimum height=6mm},
    letter/.style={common, minimum width=\widthletter},
    block/.style={common, minimum width=\widthblock},
    epoch/.style={letter, rounded rectangle, rounded rectangle east arc=0pt, minimum width=\widthepoch},
    point/.style={insert path={ node[scale=5*sqrt(\pgflinewidth)]{.} }},
    node/.style={draw, circle, minimum size=1em},
    op/.style={draw, circle, minimum size=2.7em},
    causalop/.style={op, double=white, inner sep=2pt},
    gc-rule-1/.style={dashed, thick, darkblue},
    gc-rule-2/.style={densely dotted, thick, darkgreen},
    cross/.style={
        path picture={
            \draw[mydarkred, very thick]
                (path picture bounding box.south east)--(path picture bounding box.north west)
                (path picture bounding box.south west)--(path picture bounding box.north east);
        }
    }
}


%-------------------------------------------------------------------
%                             Marges
%-------------------------------------------------------------------

% pour positionner les vraies marges:
%\SetRealMargins{1mm}{1mm}

%-------------------------------------------------------------------
%                             En-têtes
%-------------------------------------------------------------------

% Les en-têtes: quelques exemples
%\UppercaseHeadings
%\UnderlineHeadings
%\newcommand\bfheadings[1]{{\bf #1}}
%\FormatHeadingsWith{\bfheadings}
%\FormatHeadingsWith{\uppercase}
%\FormatHeadingsWith{\underline}
\newcommand\upun[1]{\uppercase{\underline{\underline{#1}}}}
\FormatHeadingsWith\upun

\newcommand\itheadings[1]{\textit{#1}}
\FormatHeadingsWith{\itheadings}

% pour avoir un trait sous l'en-tete:
\setlength{\HeadRuleWidth}{0.4pt}

%-------------------------------------------------------------------
%                         Les références
%-------------------------------------------------------------------

\NoChapterNumberInRef
\NoChapterPrefix

%-------------------------------------------------------------------
%                           Brouillons
%-------------------------------------------------------------------

% ceci ajoute une marque « brouillon » et la date
\ThesisDraft

%-------------------------------------------------------------------
%                   Pour collecter un glossaire et un index
%-------------------------------------------------------------------

\makeglossary
\makeindex

%-------------------------------------------------------------------
%                           Acronymes
%-------------------------------------------------------------------

% Acronyms
% --------
% \input{assets/acronyms.tex}
\acrodef{ADT}[ADT]{Abstract Data Type}
\acrodefplural{ADT}[ADTs]{Abstract Data Types}
\acrodef{API}[API]{Application Programming Interface}
\acrodef{AW}[AW]{\emph{Add-Wins}}
\acrodef{CCI}[CCI]{Convergence, Causality preservation, Intention preservation}
\acrodef{CL}[CL]{\emph{Causal-Length}}
\acrodef{CRDT}[CRDT]{Conflict-free Replicated Data Type}
\acrodefplural{CRDT}[CRDTs]{Conflict-free Replicated Data Types}
\acrodef{FIFO}[FIFO]{First In, First Out}
\acrodef{GC}[GC]{Garbage Collection}
\acrodef{JIT}[JIT]{Just-In-Time}
\acrodef{LCA}[PPAC]{Plus Petit Ancêtre Commun}
\acrodef{LUB}[LUB]{Least Upper Bound}
\acrodef{LWW}[LWW]{\emph{Last-Writer-Wins}}
\acrodef{MUTE}[MUTE]{Multi User Text Editor}
\acrodef{MV}[MV]{\emph{Multi-Value}}
\acrodef{OT}[OT]{Operational Transformation}
\acrodefplural{OT}[OT]{Operational Transformations}
\acrodef{P2P}[P2P]{Pair-à-Pair}
\acrodef{PKI}[PKI]{Public Key Infrastructure}
\acrodef{RGA}[RGA]{Replicated Growable Array}
\acrodef{RW}[RW]{\emph{Remove-Wins}}
\acrodef{SEC}[SEC]{Cohérence forte à terme}
\acrodef{TTF}[TTF]{Tombstone Transformation Function}
\acrodefplural{TTF}[TTF]{Tombstone Transformation Functions}
\acrodef{WebRTC}[WebRTC]{Web Real-Time Communication}

%-------------------------------------------------------------------
%                           Couleurs
%-------------------------------------------------------------------

% \input{assets/colours.tex}

%-------------------------------------------------------------------
%                     Global custom tikz commands
%-------------------------------------------------------------------

% \input{assets/tikz_presets.tex}

\begin{document}


      \OddHead={{\leftmark\rightmark}{\hfil\slshape\rightmark}}
      \EvenHead={{\leftmark}{{\slshape\leftmark}\hfil}}
      \OddFoot={\hfil\thepage}
      \EvenFoot={\thepage\hfil}
      \pagestyle{ThesisHeadingsII}


%-------------------------------------------------------------------
%                          Encadrements
%-------------------------------------------------------------------

% encadre les chapitres dans la table des matières:
% (ces commandes doivent figurer apres \begin{document}

\FrameChaptersInToc
%\FramePartsInToc


%-------------------------------------------------------------------
%            Réinitialisation de la numérotation des chapitres
%-------------------------------------------------------------------

% Si la commande suivante est présente,
% elle doit figurer APRÈS \begin{document}
% et avant la première commande \part
\ResetChaptersAtParts

%-------------------------------------------------------------------
%               mini-tables des matières par chapitre
%-------------------------------------------------------------------

% préparer les mini-tables des matières par chapitre.
% (commande de minitoc.sty)
\dominitoc

%-------------------------------------------------------------------
%                         Page de titre:
%-------------------------------------------------------------------

\ThesisTitle{Ré-identification sans coordination dans les types de données répliquées sans conflits (CRDTs)}
\ThesisDate{TODO: Définir une date}
\ThesisAuthor{Matthieu Nicolas}

% Type de la these
\ThesisUL
% Jury:

% (ne pas mettre de \\ apres la dernière entree)

% Exemple de création d'une nouvelle catégorie dans le jury:

\NewJuryCategory{family}{\it Membre de la famille :}
                        {\it Membres de la famille :}

\family={Mon frère\\Ma sœur}

\def\blanc{\hspace*{1cm}}

\President    = {Stephan Merz}
\Rapporteurs  = {Le rapporteur 1&de Paris\\
                 Le rapporteur 2\\
                 \blanc suite&taratata\\
                 Le rapporteur 3}
\Examinateurs = {L'examinateur 1&d'ici\\
                 L'examinateur 2}
%\Invites=       {}

% Création de la page de titre:
\MakeThesisTitlePage

%-------------------------------------------------------------------


%-------------------------------------------------------------------
%                          remerciements
%-------------------------------------------------------------------

%\DontFrameThisInToc
\begin{ThesisAcknowledgments}
Les remerciements.
\end{ThesisAcknowledgments}

%-------------------------------------------------------------------
%                            dédicace
%-------------------------------------------------------------------

\begin{ThesisDedication}
Je dédie cette thèse\\
à ma machine.\\
Oui, à Pandore,\\
qui fut la première de toutes.
\end{ThesisDedication}


%-------------------------------------------------------------------
%                  écriture de `Chapitre' et `Partie'
%                      dans la table des matières
%-------------------------------------------------------------------

\WritePartLabelInToc
\WriteChapterLabelInToc

%-------------------------------------------------------------------
%                        table des matières
%-------------------------------------------------------------------

\tableofcontents

%-------------------------------------------------------------------
%              Exemple d'utilisation de \SpecialSection
%-------------------------------------------------------------------
%\SpecialSection{Introduction générale}

\DontWriteThisInToc
\listoffigures

\mainmatter
\NumberThisInToc
\chapter*{Introduction}
\minitoc
\section{Contexte}

\begin{itemize}
  \item Systèmes collaboratifs (wikis, plateformes de contenu, réseaux sociaux) et leurs bienfaits (qualité de l'info, vitesse de l'info (exemple de crise ?), diffusion de la parole).
    Démocratisation (sic) de ces systèmes au cours de la dernière décennie.
  \item En raison du volume de données et de requêtes, adoptent architecture décentralisée.
    Permet ainsi de garantir disponibilité, tolérance aux pannes et capacité de passage à l'échelle.
  \item Mais échoue à adresser problèmes non-techniques : confidentialité, souveraineté, protection contre censure, dépendance et nécessité de confiance envers autorité centrale.
  \item À l'heure où les entreprises derrière ces systèmes font preuve d'ingérence et d'intérêts contraires à ceux de leurs utilisateur-rices (Cambridge Analytica, Prism, non-modération/mise en avant de contenus racistes \footnote{\emph{Algorithms of Oppression}, Safiya Umoja Noble}\footnote{\url{https://www.researchgate.net/publication/342113147_The_YouTube_Algorithm_and_the_Alt-Right_Filter_Bubble}}\footnote{\url{https://www.wsj.com/articles/the-facebook-files-11631713039}}, invisibilisation de contenus féministes, dissolution du comité d'éthique de Google\footnote{\url{https://www.bbc.com/news/technology-56135817}}, inégalité d'accès à la méta-machine affectante\footnote{\emph{Je suis une fille sans histoire}, Alice Zeniter, p. 75}\footnote{Qui cite \emph{Les affects de la politique}, Frédéric Lordon}\footnote{\url{https://www.bbc.com/news/technology-59011271}}), parait fondamental de proposer les moyens technologiques accessibles pour concevoir et déployer des alternatives.
  \item \mnnote{TODO: Voir si angle écologique/réduction consommation d'énergie peut être pertinent.}
  \item Systèmes pair-à-pair sont une direction intéressante pour répondre à ces problématiques, de part leur absence d'autorité centrale, la distribution des tâches et leur conception mettant le pair au centre.
    Mais posent de nouvelles problématiques de recherche.
  \item Ces systèmes ne disposent d'aucun contrôle sur les noeuds qui les composent.
    Le nombre de noeuds peut donc croître de manière non-bornée et atteindre des centaines de milliers de noeuds.
    La complexité des algorithmes de ces systèmes ne doit donc pas dépendre de ce paramètre, ou alors de manière logarithmique.
  \item De plus, ces noeuds n'offrent aucune garantie sur leur stabilité.
    Ils peuvent donc rejoindre et participer au système de manière éphèmère.
    S'agit du phénomène connu sous le nom de churn.
    Les algorithmes de ces systèmes ne peuvent donc pas reposer sur des mécanismes nécessitant une coordination synchrone d'une proportion des noeuds.
  \item Finalement, ces noeuds n'offrent aucune garanties sur leur fiabilité et intentions.
    Les noeuds peuvent se comporter de manière byzantine.
    Pour assurer la confidentialité, l'absence de confiance requise et le bon fonctionnement du système, ce dernier doit être conçu pour résister aux comportements byzantins de ses acteurs.
  \item Ainsi, il est nécessaire de faire progresser les technologies existantes pour les rendre compatible avec ce nouveau modèle de système.
    Dans le cadre de cette thèse, nous nous intéressons aux mécanismes de réplication de données dans les systèmes collaboratifs pair-à-pair temps réel.
\end{itemize}

\section{Questions de recherche et contributions}

\subsection{Ré-identification sans coordination pour \acp{CRDT} pour Séquence}

\begin{itemize}
  \item Systèmes collaboratifs permettent aux utilisateur-rices de manipuler et éditer un contenu partagé.
    Pour des raisons de performance, ces systèmes autorisent généralement les utilisateur-rices à effectuer des modifications sans coordination.
    Leur copies divergent alors momentanément.
    Un mécanisme de synchronisation leur permet ensuite de récupérer l'ensemble des modifications et de les intégrer, de façon à converger.
    Cependant, des modifications peuvent être incompatibles entre elles, car de sémantiques contraires.
    Un mécanisme de résolution de conflits est alors nécessaire.
  \item Les \acp{CRDT} sont des types de données répliquées.
    Ils sont conçus pour être répliqués par les noeuds d'un système et pour permettre à ces derniers de modifier les données partagées sans aucune coordination.
    Dans ce but, ils incluent des mécanismes de résolution de conflits directement au sein leur spécification.
    Ces mécanismes leur permettent de résoudre le problème évoqué précédemment.
    Cependant, ces mécanimes induisent un surcoût, aussi bien d'un point de vue consommation mémoire et réseau que computationnel.
    Notamment, certains \acp{CRDT} comme ceux pour la Séquence souffrent d'une croissance monotone de leur surcoût.
    Ce surcoût s'avère handicapant dans le contexte des collaborations à large échelle.
  \item Pouvons-nous proposer un mécanisme sans coordination de réduction du surcoût des \acp{CRDT} pour Séquence, \ie compatible avec les systèmes pair-à-pair ?
  \item Dans le cadre des \acp{CRDT} pour Séquence, le surcoût du type de données répliquées provient de la croissance de leurs métadonnées.
    Métadonnées proviennent des identifiants associés aux éléments de la Séquence par les \acp{CRDT}.
    Ces identifiants sont nécessaires pour le bon fonctionnement de leur mécanisme de résolution de conflits.
  \item Plusieurs approches ont été proposées pour réduire le coût de ces identifiants.
    Notamment, \cite{letia:hal-01248270,zawirski:hal-01248197} proposent un mécanisme de ré-assignation d'identifiants de façon à réduire leur taille.
    Mécanisme non commutatif avec les modifications concurrentes de la Séquence, \ie l'insertion ou la suppression.
    Propose ainsi un mécanisme de transformation des modifications concurrentes pour gérer ces conflits.
    Mais mécanisme de ré-assignation n'est pas non plus commutatif avec lui-même.
    De fait, utilisent un algorithme de consensus pour empêcher l'exécution du mécanisme en concurrence.
  \item Proposons RenamableLogootSplit, un nouveau \ac{CRDT} pour Séquence.
    Intègre un mécanisme de renommage directement au sein de sa spécification.
    Intègre un mécanisme de résolution de conflits pour les renommages concurrents.
    Permet ainsi l'utilisation du mécanisme de renommage par les noeuds sans coordination.
\end{itemize}

\subsection{Éditeur de texte collaboratif pair-à-pair}

\begin{itemize}
  \item Systèmes collaboratifs adoptent généralement architecture décentralisée.
    Disposent d'autorités centrales qui facilitent la collaboration, l'authentification des utilisateur-rices, la communication et le stockage des données.
  \item Mais ces systèmes introduisent une dépendance des utilisateur-rices envers ces mêmes autorités centrales, une perte de confidentialité et de souveraineté.
  \item Pouvons-nous concevoir un éditeur de texte collaboratif sans autorités centrales, \ie un éditeur de texte collaboratif à large échelle pair-à-pair ?
  \item Ce changement de modèle, d'une architecture décentralisée à une architecture pair-à-pair, introduit un ensemble de problématiques de domaines variés, \eg
    \begin{enumerate}[label=(\roman*)]
      \item Comment permettre aux utilisateur-rices de collaborer en l'absence d'autorités centrales pour résoudre les conflits de modifications ?
      \item Comment authentifier les utilisateur-rices en l'absence d'autorités centrales ?
      \item Comment structurer le réseau de manière efficace, \ie en limitant le nombre de connexion par pair ?
    \end{enumerate}
  \item Présentons \ac{MUTE} \cite{MUTE2017}.
    S'agit, à notre connaissance, du seul prototype complet d'éditeur de texte collaboratif temps réel pair-à-pair chiffré de bout en bout.
    Allie ainsi les résultats issus des travaux de l'équipe sur les \acp{CRDT} pour Séquence \cite{2013-logootsplit,2021-these-vic} et l'authentification des pairs dans systèmes distribués \cite{2018-trusternity-short,2018-trusternity-long} aux résultats de la littérature sur mécanismes de conscience de groupe \mnnote{TODO: Trouver et ajouter références}, les protocoles d'appartenance aux groupe \cite{swim2002, lifeguard2018}, les réseaux pair-à-pair \cite{2018-spray-nedelec} et les protocoles d'établissement de clés de groupe \cite{1995-burmester-desmedt}.
\end{itemize}

\section{Plan du manuscrit}
\section{Publications}

\NumberThisInToc
\chapter{État de l'art}
\minitoc

\section{Systèmes distribués}
\input{chapters/etat-art/dist-sys}

% \section{Transformées opérationnelles}
% \input{chapters/etat-art/ot}

\section{Types de données répliquées sans conflits}
\input{chapters/etat-art/crdts-intro}

\subsection{Sémantique en cas de concurrence}
\input{chapters/etat-art/semantique-intro}

\subsubsection{Sémantique \acl{LWW}}
\input{chapters/etat-art/semantique-lww}

\subsubsection{Sémantique \acl{MV}}
\input{chapters/etat-art/semantique-mv}

\subsubsection{Sémantiques \acl{AW} et \acl{RW}}
\input{chapters/etat-art/semantique-aw-rw}

\subsubsection{Sémantique \acl{CL}}
\input{chapters/etat-art/semantique-cl}

\subsubsection{Synthèse}
\input{chapters/etat-art/semantique-synthese}

\subsection{Modèle de synchronisation}
\input{chapters/etat-art/synchro-intro}

\subsubsection{Synchronisation par états}
\input{chapters/etat-art/synchro-etats}

\subsubsection{Synchronisation par opérations}
\input{chapters/etat-art/synchro-operations}

\subsubsection{Synchronisation par différences d'états}
\input{chapters/etat-art/synchro-diff-etats}

\subsubsection{Synthèse}
\input{chapters/etat-art/synchro-synthese}

\subsection{Adoption dans la littérature et l'industrie}
\input{chapters/etat-art/crdts-adoption}

\section{Séquences répliquées sans conflits}
\input{chapters/etat-art/seq-crdts-intro}

\subsection{Approche à pierres tombales}

\subsubsection{WOOT}
\input{chapters/etat-art/seq-crdts-woot}

\subsubsection{\acl{RGA}}
\input{chapters/etat-art/seq-crdts-rga}

\subsection{Approche à identifiants densément ordonnés}

\subsubsection{Treedoc}
\input{chapters/etat-art/seq-crdts-treedoc}

\subsubsection{Logoot}
%\input{chapters/etat-art/seq-crdts-logoot}

\begin{itemize}
  \item En parallèle à Treedoc \cite{2009-treedoc-preguica}, \textcite{2009-logoot-weiss} proposent Logoot.
    Ce nouvel \ac{CRDT} pour Séquence repose sur idée similaire à celle de Treedoc : il associe un identifiant de position, provenant d'un espace dense, à chaque élément de la séquence.
  \item Dans \cite{2009-logoot-weiss}, les identifiants de positions sont de la forme $\langle \trm{tuples},\trm{seq} \rangle$ avec
  \begin{itemize}
    \item $\trm{seq}$, le numéro de séquence du noeud à l'insertion de l'élément
    \item $\trm{tuples}$, une liste de paires $\langle \trm{pos},\trm{nodeId} \rangle$ avec
    \item $\trm{pos}$, un entier
    \item $\trm{nodeId}$, l'identifiant du noeud auteur de l'élément.
  \end{itemize}
  \item Par la suite, \cite{2010-logoot-undo-weiss} re-spécifie les identifiants de positions de la manière suivante :
  \begin{itemize}
    \item liste de tuples avec chaque tuple un triplet <pos, site, seq> avec
    \begin{itemize}
      \item pos un entier
      \item site l'identifiant de site
      \item seq le numéro de séquence du site à l'ins de l'élément
    \end{itemize}
  \end{itemize}
  \item Dans le cadre de cette section, nous nous basons sur cette dernière spécification.
    Nous utiliserons la notation suivante $\betterid{pos}{nodeId~seq}{}$ pour représenter chacun des tuples composant un identifiant de position Logoot.
    Sans perdre en généralité, nous utiliserons des lettres minuscules comme valeurs pour $\trm{pos}$, des lettres majuscules pour $\trm{nodeId}$ et des entiers pour $\trm{seq}$.
    Par exemple, l'identifiant $\langle \langle i,A,1 \rangle \langle f,B,1 \rangle \rangle$ est représenté par $\betterid{i}{A1}{}\betterid{f}{B1}{}$.
  \item Logoot définit un ordre strict total $\lid$ sur les identifiants de position.
    Cet ordre lui permet de les ordonner relativement les uns aux autres, et ainsi ordonner les éléments associés.
    Pour définir $\lid$, Logoot se base sur l'ordre lexicographique.
    \begin{definition}[Relation $\lid$]
      Étant donné deux identifiants $id = t_1 \oplus t_2 \oplus ... \oplus t_n$ et $id' = t'_1 \oplus t'_2 \oplus ... \oplus t'_m$, on a :
        \[
          id \lid id' \quad \trm{iff} \quad
          \begin{cases}
            n < m \land \forall i \in [1,n] \cdot t_i = t'_j                                   & \text{or} \\
            \exists j \leq m \cdot \forall i < j \cdot t_i = t'_i \land t_j \ltuple t'_j &           \\
          \end{cases}
        \]
    \end{definition}

    avec :

    \begin{definition}[Relation $\ltuple$]
      Étant donné deux tuples $t = \langle \trm{pos},\trm{nodeId},\trm{seq} \rangle$ et $t' = \langle \trm{pos'},\trm{nodeId'},\trm{seq'} \rangle$, on a :
        \[
          t \ltuple t' \quad \trm{iff} \quad
          \begin{cases}
            \trm{pos} < \trm{pos}'                                            & \text{or} \\
            \trm{pos} = \trm{pos'} \land \trm{nodeId} < \trm{nodeId'}                    & \text{or} \\
            \trm{pos} = \trm{pos'} \land \trm{nodeId} = \trm{nodeId'} \land \trm{seq} < \trm{seq'}  &           \\
          \end{cases}
        \]
    \end{definition}
  \item Logoot spécifie une fonction \texttt{generateId}.
    Cette fonction permet de générer un nouvel identifiant de position, $\trm{id}$, entre deux identifiants donnés, $\trm{predId}$ et $\trm{succId}$, tel que $\trm{predId} \prec \trm{id} \prec \trm{succId}$.
    Plusieurs algorithmes peuvent être utilisés pour cela.
    Notamment, \cite{2009-logoot-weiss} présente un algorithme permettant de générer $N$ identifiants de manière aléatoire entre les identifiants $\trm{predId}$ et $\trm{succId}$.
    Nous présentons ci-dessous un algoritme naïf.
    \mnnote{TODO: Insérer algo}
    % \begin{itemize}
    %   \item Travaille sur predId et nextId, transformée en chaîne infinie
    %   \item Consiste à comparer séquentiellement les tuples de predId et de nextId et à les recopier tant qu'il s'agit de leur préfixe commun
    %   \item Une fois une différence détectée, vérifie si intervalle suffisament grand pour insérer nbIds
    %   \item Si ce n'est pas le cas, concatène tuple de predId, passe au tuple suivant et "épuise" nextId
    %   \item Concatène au préfixe un nouveau tuple <pos,site,seq> avec pos une valeur aléatoire de l'intervalle, bornes exclues
    % \end{itemize}
  \item Pour illustrer cet algorithme, considérons \texttt{generateId(predId, nextId, nodeId, seq)} avec  $\trm{nodeId} = \trm{C}$ et $\trm{seq} = 1$ et
    \begin{enumerate}[label=(\roman*)]
      \item $\trm{predId} = \betterid{e}{A1}{}$, $\trm{nextId} = \betterid{m}{B1}{}$.
        Ces deux identifiants n'ayant aucun préfixe commun, \texttt{generateId} renvoie un identifiant composé d'un tuple avec une position aléatoire choisie entre leur positions respectives, \ie dans $]\trm{e},\trm{m}[$, et avec les valeurs $\trm{nodeId}$ et $\trm{seq}$, \eg $\betterid{l}{C1}{}$.
      \item $\trm{predId} = \betterid{i}{A1}{}\betterid{f}{A2}{}$, $\trm{succId} = \betterid{i}{A1}{}\betterid{g}{B1}{}$.
        Ici, les deux identifiants ont un préfixe commun, $\betterid{i}{A1}{}$, que \texttt{generateId} récupère.
        \texttt{generateId} compare ensuite les tuples suivants de $\trm{predId}$ et $\trm{succId}$ pour déterminer si l'intervalle entre les deux est suffisant pour insérer un nouvel identifiant.
        Ces tuples étant respectivement $\betterid{f}{A2}{}$ et $\betterid{g}{B1}{}$, ce n'est pas le cas ici.
        \texttt{generateId} copie alors le tuple courant de $\trm{predId}$, récupère le prochain tuple de $\trm{predId}$ et utilise $MAXTUPLE$ à la place du prochain tuple $\trm{succId}$.
        Il génère finalement un nouveau tuple avec une valeur aléatoire de position choisie dans $]MINPOS,MAXPOS]$\footnotemark, et avec les valeurs $\trm{nodeId}$ et $\trm{seq}$, \eg $\betterid{i}{A1}{}\betterid{f}{A2}{}\betterid{m}{C1}{}$.
        \footnotetext{Il est important d'exclure $\trm{MINPOS}$ des valeurs possibles pour $\trm{pos}$ du dernier tuple d'un identifiant $\trm{id}$ afin de garantir que l'espace reste dense, notamment pour garantir qu'un noeud sera toujours en mesure de générer un nouvel identifiant $\trm{id'}$ tel que $\trm{id'} \lid \trm{id}$.}
    \end{enumerate}
  \item L'utilisation d'identifiants de position permet de redéfinir les modifications :
    \begin{enumerate}[label=(\roman*)]
      \item $\trm{ins}(\trm{pred} \prec \trm{elt} \prec \trm{succ})$ devient alors $\trm{ins(\trm{id}, \trm{elt})}$, avec $\trm{predId} \lid \trm{id} \lid \trm{succId}$.
      \item $\trm{rmv}(\trm{elt})$ devient $\trm{rmv}(\trm{id})$.
    \end{enumerate}
  \item Nous illustrons à présent son fonctionnement à l'aide de la \autoref{fig:logoot}.
    \begin{figure}[!ht]

      \centering
      \resizebox{\columnwidth}{!}{
        \begin{tikzpicture}
          \newcommand\nodeh[1]{
            node[letter, label=#1:{$\betterid{i}{A1}{}$}] {H}
          }
          \newcommand\nodee[1]{
            node[letter, label=#1:{$\betterid{m}{B1}{}$}] {E}
          }
          \newcommand\nodela[1]{
            node[letter, label=#1:{$\betterid{m}{B1}{}\betterid{o}{A3}{}$}] {L}
          }
          \newcommand\nodem[1]{
            node[letter, label=#1:{$\betterid{n}{B2}{}$}] {M}
          }
          \newcommand\nodel[1]{
            node[letter, label=#1:{$\betterid{s}{A2}{}$}] {L}
          }
          \newcommand\nodeo[1]{
            node[letter, label=#1:{$\betterid{u}{B3}{}$}] {O}
          }


          \newcommand\initialstate[3]{
            \path
              #1
              ++#2
              ++(0:0.5)
              ++(#3:0.5) \nodeh{#3}
              ++(0:\widthletter) \nodee{-#3}
              ++(0:\widthletter) \nodem{#3}
              ++(0:\widthletter) \nodel{-#3}
              ++(0:\widthletter) \nodeo{#3};
          }

          \newcommand\insl[3]{
            \path
              #1
              ++#2
              ++(0:0.5)
              ++(#3:0.5) \nodeh{#3}
              ++(0:\widthletter) \nodee{-#3}
              ++(0:\widthletter) \nodela{#3}
              ++(0:\widthletter) \nodem{-#3}
              ++(0:\widthletter) \nodel{#3}
              ++(0:\widthletter) \nodeo{-#3};
          }

          \newcommand\rmvm[3]{
            \path
              #1
              ++#2
              ++(0:0.5)
              ++(#3:0.5) \nodeh{#3}
              ++(0:\widthletter) \nodee{-#3}
              ++(0:\widthletter) \nodel{#3}
              ++(0:\widthletter) \nodeo{-#3};
          }

          \newcommand\finalstate[3]{
            \path
              #1
              ++#2
              ++(0:0.5)
              ++(#3:0.5) \nodeh{#3}
              ++(0:\widthletter) \nodee{-#3}
              ++(0:\widthletter) \nodela{#3}
              ++(0:\widthletter) \nodem{-#3}
              ++(0:\widthletter) \nodel{#3}
              ++(0:\widthletter) \nodeo{-#3};
          }

          \newcommand\offseta{ (90:0.5) }
          \newcommand\offsetb{ (270:0.7) }

          \path
              node {\textbf{A}}
              ++(0:0.5) node (a) {}
              +(0:30) node (a-end) {}
              +(0:2) node[point] (a-initial) {}
              +(0:12) node[point, label=-170:{$\trm{ins}(E \prec L)$}, label={[xshift=5em]-10:{$\trm{ins}(\langle \betterid{m}{B1}{}\betterid{o}{A3}{},L \rangle)$}}] (a-ins-l) {}
              +(0:20) node[point] (a-recv-rmv-m) {}
              +(0:28) node (a-final) {};

          \initialstate{(a-initial)}{\offseta}{90};
          \insl{(a-ins-l)}{\offseta}{90};
          \finalstate{(a-recv-rmv-m)}{\offseta}{90};

          \draw[dotted] (a) -- (a-initial) (a-final) -- (a-end);
          \draw[->, thick] (a-initial) --  (a-ins-l) --  (a-recv-rmv-m) -- (a-final);

          \path
              ++(270:3) node {\textbf{B}}
              ++(0:0.5) node (b) {}
              +(0:30) node (b-end) {}
              +(0:2) node[point] (b-initial) {}
              +(0:12) node[point, label=170:{$\trm{rmv}(M)$}, label={[xshift=5em]10:{$\trm{rmv}(\betterid{n}{B2}{})$}}] (b-rmv-m) {}
              +(0:20) node[point] (b-recv-ins-l) {}
              +(0:28) node (b-final) {};

          \initialstate{(b-initial)}{\offsetb}{-90};
          \rmvm{(b-rmv-m)}{\offsetb}{-90};
          \finalstate{(b-recv-ins-l)}{\offsetb}{-90};

          \draw[dotted] (b) -- (b-initial) (b-final) -- (b-end);
          \draw[->, thick] (b-initial) --  (b-rmv-m) -- (b-recv-ins-l) -- (b-final);

          \draw[->, dashed, shorten >= 1] (a-ins-l) -- (b-recv-ins-l);
          \draw[->, dashed, shorten >= 1] (b-rmv-m) -- (a-recv-rmv-m);
        \end{tikzpicture}
      }
      \caption{Modifications concurrentes d'une séquence répliquée Logoot}
      \label{fig:logoot}
    \end{figure}
  \item Concernant le modèle de livraison de Logoot, \cite{2009-logoot-weiss} indique se reposer sur le modèle de livraison causal.
    Nous constatons cependant que :
    \begin{itemize}
      \item Les opérations $\trm{ins}$ sont commutatives, elles peuvent donc être délivrées dans le désordre.
      \item Les opérations $\trm{ins}$ et $\trm{rmv}$ d'un même élément ne sont pas commutatives, les opérations $\trm{rmv}$ doivent être délivrées après les opérations $\trm{ins}$ correspondantes.
    \end{itemize}
    Logoot peut donc adopter le modèle de livraison \emph{Exactly-once + Causal Remove} comme indiqué dans \cite{2021-these-vic}.
  \item Limites
  \begin{itemize}
    \item Croissance non-bornée des identifiants
    \item Même si expérience montre que taille reste limitée
  \end{itemize}
  \item Plusieurs extensions furent proposées pour Logoot.
    \textcite{2010-logoot-undo-weiss} proposent une nouvelle stratégie d'allocation des identifiants pour \texttt{generateId}.
    Cette stratégie consiste à limiter la distance entre deux identifiants insérés au cours de la même modification $\trm{ins}$, au lieu des les répartir de manière aléatoire entre $\trm{predId}$ et $\trm{succId}$.
    Ceci permet de regrouper les identifiants des éléments insérés par une même modification et de laisser plus d'espace pour les insertions suivantes.
    En réduisant la vitesse à laquelle l'espace d'identifiants se sature pour une taille donnée d'identifiants, et donc la vitesse de croissance des identifiants, ce nouvel algorithme permet de réduire le surcoût en métadonnées, calculs et bande-passant du \ac{CRDT}.
  \item Toujours dans \cite{2010-logoot-undo-weiss}, les auteurs introduisent \emph{Logoot-Undo}, une version de Logoot dotée d'un mécanisme d'undo.
    Ce mécanisme prend la forme d'une nouvelle modification, $\trm{undo}$, qui permet d'annuler l'effet d'une ou plusieurs modifications passées.
    Cette modification, et l'opération en résultant, est spécifiée de manière à être commutative avec toutes autres opérations concurrentes, \ie $\trm{ins}$, $\trm{rmv}$ et $\trm{undo}$ elle-même.
  \item Pour définir $\trm{undo}$, une notion de \emph{degrée de visibilité} d'un élément est introduite.
    Elle permet à Logoot-Undo de déterminer si l'élément doit être affiché ou non.
    Pour cela, Logoot-Undo maintient une structure auxiliaire, le \emph{Cimetière}, qui référence les identifiants des éléments dont le degrée est inférieur à 0\footnote{Nous pouvons dès lors inférer le degrée des identifiants restants en fonction de s'ils se trouvent dans la séquence (1) ou s'ils sont absents à la fois de la séquence et du cimetière (0).}.
    Ainsi, Logoot-Undo ne référence qu'un nombre réduit de pierres tombales.
    Qui plus est, ces pierres tombales sont stockées en dehors de la structure représentant la séquence et n'impactent donc pas les performances des modifications ultérieures.
  \item Nous illustrons le fonctionnement de ce mécanisme à l'aide de la \autoref{fig:logoot-undo}.
  \begin{figure}[!ht]

    \centering
    TODO
    \caption{Modifications concurrentes d'une séquence répliquée Logoot-Undo}
    \label{fig:logoot-undo}
  \end{figure}
  \item Il convient de noter que l'ajout du degrée de visibilité des éléments permet de rendre commutatives l'opération $\trm{ins}$ avec l'opération $\trm{rmv}$ d'un même élément.
    Ainsi, Logoot-Undo ne nécessite comme modèle de livraison que le modèle \emph{Eventual Delivery}.
  \item Finalement, \textcite{2013-logootsplit} introduit \emph{LogootSplit}.
    Reprenant les idées introduites par \cite{2012-string-wise}, ce travail présente un mécanisme d'aggrégation dynamiques des élements en blocs.
    Ceci permet de réduire la granularité des éléments stockés dans la séquence, et ainsi de réduire le surcoût en métadonnées, calculs et bande-passante du \ac{CRDT}.
    Nous utilisons ce \ac{CRDT} pour séquence comme base pour les travaux présentés dans ce manuscrit.
    Nous dédions donc la \autoref{sec:logootsplit} à sa présentation en détails.
\end{itemize}

\mnnote{TODO: Autres Sequence CRDTs à considérer : String-wise CRDT \cite{2012-string-wise}, Chronofold \cite{2020-chronofold}}

\subsection{Synthèse}
\input{chapters/etat-art/seq-crdts-synthese.tex}

\section{LogootSplit}
\input{chapters/etat-art/ls-intro}

\subsection{Identifiants}
\input{chapters/etat-art/ls-ids}

\subsection{Aggrégation dynamique d'élements en blocs}
\input{chapters/etat-art/ls-blocs}

\subsection{Modèle de données}
\input{chapters/etat-art/ls-adt}

\subsection{Modèle de livraison}
\input{chapters/etat-art/ls-synchro-intro}

\subsubsection{Livraison des opérations en exactement un exemplaire}
\input{chapters/etat-art/ls-synchro-exactly-once}

\subsubsection{Livraison de l'opération \emph{remove} après l'opération \emph{insert}}
\input{chapters/etat-art/ls-synchro-causal-remove}

\subsubsection{Définition du modèle de livraison}
\input{chapters/etat-art/ls-synchro-synthese}

\subsection{Limites}
\input{chapters/etat-art/ls-limites}

\section{Mitigation du surcoût des séquences répliquées sans conflits}

\begin{itemize}
  \item Plusieurs approches ont été proposées pour réduire croissance des métadonnées dans Sequence \acp{CRDT}
  \item \ac{RGA} (et RGASplit) propose un mécanisme de GC des pierres tombales.
    Nécessite cependant stabilité causale des opérations de suppression.
    S'agit d'une contrainte forte, peu adaptée aux systèmes dynamiques à large échelle.
    \mnnote{TODO: Trouver référence sur la stabilité causale dans systèmes dynamiques}
  \item Core \& Nebula propose un mécanisme de ré-équilibrage de l'arbre pour Treedoc.
    Le ré-équilibrage a pour effet de supprimer des potentielles pierres tombales et de réduire la taille des identifiants.
    Repose sur un algorithme de consensus.
    S'agit de nouveau d'une contrainte forte pour systèmes dynamique à large échelle.
    Pour y pallier, propose de séparer les pairs entre deux ensembles : Core et Nebula.
    Permet de limiter le nombre participant au consensus.
    Un protocole de rattrapage permet aux noeuds de la Nebula de mettre à jour leurs modifications concurrentes à un ré-équilibrage.
  \item LSEQ adopte une autre approche.
    Part du constat que les identifiants dans Logoot croissent de manière linéaire.
    Vise une croissance logarithmique des identifiants.
    Pour cela, propose de nouvelles fonctions d'allocation des identifiants visant à maximiser le nombre d'identifiants insérés avant de devoir augmenter la taille de l'identifiant.
    Propose aussi d'utiliser une base exponentielle pour la valeur \emph{position} des identifiants.
    Atteint ainsi la croissance polylogarithmique des identifiants, sans coordination requise entre les noeuds et mécanisme supplémentaire.
    Solution adaptée aux systèmes distribués à large échelle.
    Conjecture cependant que cette approche se marie mal avec les Sequence \acp{CRDT} utilisant des blocs.
    En effet, ajoute une raison supplémentaire à la croissance des identifiants : l'insertion entre identifiants contigus.
    Force alors la croissance des identifiants.
\end{itemize}

\section{Synthèse}

\begin{itemize}
  \item Systèmes distribués adoptent le modèle de la réplication optimiste pour offrir de meilleures performances, \ie disponibilité et latence, et assurer la résilience du système, \ie accroître la capacité de tolérance aux pannes.
  \item Ce modèle autorise les noeuds à modifier leur copie sans coordination, provoquant ainsi des divergences temporaires.
    Pour résoudre les potentiels conflits et assurer la convergence à terme des copies, systèmes utilisent les \acp{CRDT} en place et lieu des types de données séquentiels.
  \item \acp{CRDT} pour Séquence ont été proposés pour conception d'éditeurs collaboratifs pair-à-pair.
    Deux approches sont utilisées pour concevoir leur mécanismes de résolution de conflits : l'approche basée sur les pierres tombales et l'approche basée sur les identifiants densément ordonnés.
  \item Chacune de ces approches introduit un surcoût croissant, pénalisant leurs performances à terme.
    Plusieurs travaux ont été proposés pour limiter ce surcoût, notamment \cite{letia:hal-01248270, zawirski:hal-01248197} qui présentent un mécanisme de renommage des identifiants pour les \acp{CRDT} pour Séquence basés sur identifiants densément ordonnés.
  \item Mais cette approche requiert un mécanisme de consensus, des renommages concurrents provoquant un nouveau conflit.
    Cette contrainte empêche son utilisation dans les systèmes pair-à-pair ne disposant pas de noeuds suffisamment stables et bien connectés pour exécuter le mécanisme de consensus.
\end{itemize}

\section{Proposition}

\begin{itemize}
  \item Dans ce manuscrit, nous proposons et présentons un nouveau mécanisme de renommage pour \acp{CRDT} pour Séquence, ne nécessitant pas de coordination synchrone entre les noeuds.
  \item Concevons ce mécanisme pour le \ac{CRDT} pour Séquence LogootSplit, mais principe de notre approche est générique.
    Pourrait ainsi l'adapter et proposer un équivalent pour autres \acp{CRDT} pour Séquence, \eg RGASplit.
  \item Présentons et détaillons notre contribution dans le chapitre suivant.
\end{itemize}

% \import{chapters/}{rls}
% \import{chapters/}{mute}

\NumberThisInToc
\chapter{Conclusions et perspectives}
\minitoc
\section{Résumé des contributions}
\section{Perspectives}

% \begin{itemize}
%   \item Définir stratégie pour déclenchement de l'opération \emph{rename}
%   \item Proposer nouvelles relations \emph{priority} \lepoch
%   \item Utiliser combinaison de CRDT et OT pour concevoir structures de données répliquées complexes (move dans Sequence, DFS...)
% \end{itemize}

\subsection{Définition de relations de priorité pour minimiser les traitements}
\subsection{Redéfinition de la sémantique du renommage en déplacement d'éléments}
\subsection{Définition de types de données répliquées sans conflits plus complexes}

\subsection{Étude comparative des différentes familles de CRDTs}

\begin{itemize}
  \item La spécification récente des Delta-based CRDTs .
    Ce nouveau type de CRDTs se base sur celui des State-based CRDTs.
    Partage donc les mêmes pré-requis :
    \begin{itemize}
      \item États du type de données répliqué forment un sup-demi-treillis
      \item Modifications locales entraînent une inflation de l'état
      \item Possède une fonction de \texttt{merge}, permettant de fusionner deux états S et S', et qui
      \begin{itemize}
        \item Est associative, commutative et idempotente
        \item Retourne S", la \ac{LUB} de S et S' (\ie $\nexists S''' \cdot merge(S, S') < S''' < S''$)
      \end{itemize}
    \end{itemize}
    Et bénéficie de son principal avantage : synchronisation possible entre deux pairs en fusionnant leur états, peu importe le nombre de modifications les séparant.
  \item Spécificité des Delta-based CRDTs est de proposer une synchronisation par différence d'états.
    Plutôt que de diffuser l'entièreté de l'état pour permettre aux autres pairs de se mettre à jour, idée est de seulement transmettre la partie de l'état ayant été mise à jour.
    Correspond à un élément irréductible du sup-demi-treillis.
    Permet ainsi de mettre en place une synchronisation en temps réel de manière efficace.
    Et d'utiliser la synchronisation par fusion d'états complets pour compenser les défaillances du réseau
  \item Ainsi, ce nouveau type de CRDTs semble allier le meilleur des deux mondes :
    \begin{itemize}
      \item Absence de contrainte sur le réseau autre que la livraison à terme
      \item Propagation possible en temps réel des modifications
    \end{itemize}
    Semble donc être une solution universelle :
    \begin{itemize}
      \item Utilisable peu importe la fiabilité réseau à disposition
      \item Empreinte réseau du même ordre de grandeur qu'un Op-based CRDT
      \item Utilisable peu importe la fréquence de synchronisation désirée
    \end{itemize}
    Pose la question de l'intérêt des autres types de CRDTs.
  \item Delta-based CRDT est un State-based CRDT dont on a identifié les éléments irréductibles et qui utilise ces derniers pour la propagation des modifications plutôt que l'état complet.
    Famille des State-based CRDTs semble donc rendue obsolète par celle des Delta-based CRDTs.
    À confirmer.
  \item Les Op-based CRDTs proposent une spécification différente du type répliqué de leur équivalent Delta-based, généralement plus simple.
    À première vue, famille des Op-based CRDTs semble donc avoir la simplicité comme avantage par rapport à celle des Delta-based CRDTs.
    S'agit d'un paramètre difficilement mesurable et auquel on peut objecter si on considère qu'un Op-based CRDT s'accompagne d'une couche livraison de messages, qui cache sa part de complexité.
    Intéressant d'étudier si la spécification différente des Op-based CRDTs présente d'autres avantages par rapport aux Delta-based CRDTs : performances (temps d'intégration des modifications, délai de convergence...), fonctionnalités spécifiques (composition, undo...)
  \item But serait de fournir des guidelines sur la famille de CRDT à adopter en fonction du cas d'utilisation.
\end{itemize}

\subsection{Définition d'opérations supplémentaires pour fonctionnalités liées à l'édition collaborative}

\begin{itemize}
  \item Commentaires
  \item Suggestions
\end{itemize}

\subsection{Conduction d'expériences utilisateurs d'édition collaborative}

\begin{itemize}
  \item Absence d'un dataset réel et réutilisable sur les sessions d'édition collaborative
  \item Généralement, expériences utilisent données d'articles de Wikipédia \mnnote{TODO: Revoir références, mais me semble que c'est celui utilisé pour Logoot, LogootSplit et RGASplit entre autres}.
    Mais ces données correspondent à une exécution séquentielle, \ie aucune édition concurrente ne peut être réalisée avec le système de résolution de conflits de Wikipédia.
    \mnnote{TODO:
      Me semble que Kleppmann a aussi utilisé et mis à disposition ses traces correspondant à la rédaction d'un de ses articles.
      Mais que cet article n'était rédigé que par lui.
      Peu de chances de présence d'éditions concurrentes.
      À retrouver et vérifier.
    }
  \item Inspiré par expériences de Claudia, pourrait mener des sessions d'édition collaborative sur des outils orchestrés pour produire ce dataset
  \item Devrait rendre ce dataset agnostique de l'approche choisie pour la résolution automatique de conflits
  \item Absence de retours sur les collaborations à grande échelle
  \item Comment on collabore lorsque plusieurs centaines d'utilisateur-rices ?
\end{itemize}

\subsection{Comparaison des mécanismes de synchronisation}

Serait intéressant de comparer à d'autres méthodes de synchronisation : mécanisme d'anti-entropie basé sur un Merkle Tree\cite{2007-dynamo, 2015-approximate-hash-based-set-reconciliation, 2017-anti-entropy-without-merkle-trees}, synchronisation par états (state/delta-based \acp{CRDT}).
Dans le cadre des Delta-based \acp{CRDT}, pourrait évaluer un protocole de diffusion épidémique des deltas comme celui proposé par SWIM\cite{swim2002}.

\subsection{Distance entre versions d'un document}

\begin{itemize}
  \item Est-ce que ça a vraiment du sens d'intégrer automatiquement des modifications ayant été généré sur une version du document distante de l'état actuel du document (voir distance de Hamming, Levenstein, String-to-string correction problem (Tichy et al))
  \item Jusqu'à quelle distance est-ce que la fusion automatique a encore du sens ?
  \mnnote{NOTE: Peut connecter ça à la nécessité de conserver un chemin d'une époque à l'autre : si les opérations émises depuis cette époque ont probablement plus d'intérêt pour l'état actuel, couper l'arbre ?}
\end{itemize}

\subsection{Contrôle d'accès}

\begin{itemize}
  \item Pour le moment, n'importe quel utilisateur ayant l'URL du document peut y accéder dans MUTE
  \item Pour des raisons de confidentialité, peut vouloir contrôler quels utilisateurs ont accès à un document
  \item Nécessite l'implémentation de liste de contrôle d'accès
  \item Mais s'agit d'une tâche complexe dans le cadre d'un système distribué
  \item Peut s'inspirer des travaux réalisés au sein de la communautée \acp{CRDT} \cite{2021-access-control-crdts, 2022-dist-access-control-pa} pour cela
\end{itemize}

\subsection{Détection et éviction de pairs malhonnêtes}

\begin{itemize}
  \item À l'heure actuelle, MUTE suppose qu'ensemble des collaborateurs honnêtes
  \item Vulnérable à plusieurs types d'attaques par des adversaires byzantins, tel que l'équivoque
  \item Ce type d'attaque peut provoquer des divergences durables et faire échouer des collaborations
  \item \textcite{2021-these-vic} propose un mécanisme permettant de maintenir des logs authentifiés dans un système distribué
  \item Les logs authentifiés permettent de mettre en lumière les comportements malveillants des adversaires et de borner le nombre d'actions malveillantes qu'ils peuvent effectuer avant d'être évincé
  \item Implémenter ce mécanisme permettrait de rendre compatible MUTE avec des environnements avec adversaires byzantins
  \item Nécessiterait tout de même de faire évoluer le \ac{CRDT} pour résoudre les équivoques détectés
\end{itemize}

\subsection{Vecteur \emph{epoch-based}}

\begin{itemize}
  \item Comme présenté précédemment, nous utilisons plusieurs vecteurs pour représenter des données dans l'application MUTE
  \item Notamment pour le vecteur de version, utilisé pour respecter le modèle de livraison requis par le \ac{CRDT}
  \item Et pour la liste des collaborateurs, utilisé pour offrir des informations nécessaires à la conscience de groupe aux utilisateurs
  \item Ces vecteurs sont maintenus localement par chacun des noeuds et sont échangés de manière périodique
  \item Cependant, la taille de ces vecteurs croit de manière linéaire au nombre de noeuds impliqués dans la collaboration
  \item Les systèmes \ac{P2P} à large échelle sont sujets au \emph{churn}
  \item Dans le cadre d'un tel système, ces structures croissent de manière non-bornée
  \item Ceci pose un problème de performances, notamment d'un point de vue consommation en bande-passante
  \item Cependant, même si on observe un grand nombre de pairs différents dans le cadre d'une collaboration à large échelle
  \item Intuition est qu'une collaboration repose en fait sur un petit noyau de collaborateurs principaux
  \item Et que majorité des collaborateurs se connectent de manière éphèmère
  \item Serait intéressant de pouvoir réduire la taille des vecteurs en oubliant les collaborateurs éphèmères
  \item Dynamo\cite{2007-dynamo} tronque le vecteur de version lorsqu'il dépasse une taille seuil
  \item Conduit alors à une perte d'informations
  \item Pour la liste des collaborateurs, approche peut être adoptée (pas forcément gênant de limiter à 100 la taille de la liste)
  \item Mais pour vecteur de version, conduirait à une relivraison d'opérations déjà observées
  \item Approche donc pas applicable pour cette partie
  \item Autre approche possible est de réutiliser le système d'époque
  \item Idée serait de ACK un vecteur avec un changement d'époque
  \item Et de ne diffuser à partir de là que les différences
  \item Un mécanisme de transformation (une simple soustraction) permettrait d'obtenir le dot dans la nouvelle époque d'une opération concurrente au renommage
  \item Peut facilement mettre en place un mécanisme d'inversion du renommage (une simple addition) pour revenir à une époque précédente
  \item Et ainsi pouvoir circuler librement dans l'arbre des époques et gérer les opérations \emph{rename} concurrentes
  \item Serait intéressant d'étudier si on peut aller plus loin dans le cadre de cette structure de données et notamment rendre commutatives les opérations de renommage concurrentes
\end{itemize}

\subsection{Fusion de versions distantes d'un document collaboratif}

\subsection{Rôles et places des bots dans systèmes collaboratifs}
\begin{itemize}
  \item Stockage du document pour améliorer sa disponibilité
  \item Overleaf en P2P ?
  \item Comment réinsérer des bots dans la collaboration sans en faire des éléments centraux, sans créer des failles de confidentialité, et tout en rendant ces fonctionnalités accessibles ?
\end{itemize}

\Annex{Algorithmes \textsc{renameId}}

\label{app:rename-id}

\begin{algorithm}[!ht]
  \footnotesize
  \begin{algorithmic}
      \Function{renIdLessThanFirstId}{id, newFirstId}
      \If{id < newFirstId}
          \State \Return id
      \Else
          \State pos $\gets$ position(newFirstId)
          \State nId $\gets$ nodeId(newFirstId)
          \State nSeq $\gets$ nodeSeq(newFirstId)
          \State predNewFirstId $\gets$ \new~Id(pos, nId, nSeq, -1)
          \\
          \State \Return concat(predNewFirstId, id)
          \EndIf
      \EndFunction
      \\
      \Function{renIdGreaterThanLastId}{id, newLastId}
          \If{id < newLastId}
              \State \Return concat(newLastId, id)
          \Else
              \State \Return id
          \EndIf
      \EndFunction
  \end{algorithmic}
  \caption{Remaining functions to rename an identifier}
  \label{alg:appendix-rename-id}
\end{algorithm}

\Annex{Algorithmes \textsc{revertRenameId}}

\label{app:revert-rename-id}

\begin{algorithm}[!ht]
  \footnotesize
  \begin{algorithmic}
      \Function{revRenIdLessThanNewFirstId}{id, firstId, newFirstId}
          \State predNewFirstId $\gets$ createIdFromBase(newFirstId, -1)
          \If{isPrefix(predNewFirstId, id)}
              \State tail $\gets$ getTail(id, 1)
              \If{tail < firstId}
                  \State \Return tail
              \Else
                  \State \Comment{$id$ has been inserted causally after the \emph{rename} op}
                  \State offset $\gets$ getLastOffset(firstId)
                  \State predFirstId $\gets$ createIdFromBase(firstId, offset)
                  \State \Return concat(predFirstId, MAX\_TUPLE, tail)
              \EndIf
          \Else
              \State \Return id
          \EndIf
      \EndFunction
      \\
      \Function{revRenIdGreaterThanNewLastId}{id, lastId}
          \If{id < lastId}
              \State \Comment{$id$ has been inserted causally after the \emph{rename} op}
              \State \Return concat(lastId, MIN\_TUPLE, id)
          \ElsIf{isPrefix(newLastId, id)}
              \State tail $\gets$ getTail(id, 1)
              \If{tail < lastId}
                  \State \Comment{$id$ has been inserted causally after the \emph{rename} op}
                  \State \Return concat(lastId, MIN\_TUPLE, tail)
              \ElsIf{tail < newLastId}
                  \State \Return tail
              \Else
                  \State \Comment{$id$ has been inserted causally after the \emph{rename} op}
                  \State \Return id
              \EndIf
          \Else
              \State \Return id
          \EndIf
      \EndFunction
  \end{algorithmic}
  \caption{Remaining functions to revert an identifier renaming}
  \label{alg:appendix-revert-rename-id}
\end{algorithm}

%
%%-------------------------------------------------------------------
%%                         Le glossaire
%%-------------------------------------------------------------------
%\BeginGloWith{Voici un glossaire tout-à-fait fictif,
%              introduit par un texte sur toute la largeur
%              des deux colonnes.}
%\twocolumn
%\PrintGlossary

%-------------------------------------------------------------------
%              L'index (toujours sur deux colonnes)
%-------------------------------------------------------------------
\BeginIndWith{Voici un index}
\PrintIndex

\onecolumn

%-------------------------------------------------------------------
%                       La bibliographie
%-------------------------------------------------------------------

% La bibliographie (comme d'habitude)

%\nocite{*}
%\bibliographystyle{named}

\printbibliography

%-------------------------------------------------------------------
%                          Les résumés
%-------------------------------------------------------------------
% (si le résumé apparaît sur une colonne étroite, avec la
% bibliographie à gauche, c'est sans doute parce que vous avez
% oublié de générer les fichiers d'index et de glossaire...)

\NumberAbstractPages
\begin{ThesisAbstract}
  \begin{FrenchAbstract}
    Afin d'assurer leur haute disponibilité, les systèmes distribués à large échelle se doivent de répliquer leurs données tout en minimisant les coordinations nécessaires entre noeuds.
    Pour concevoir de tels systèmes, la littérature et l'industrie adoptent de plus en plus l'utilisation de types de données répliquées sans conflits (CRDTs).
    Les CRDTs sont des types de données qui offrent des comportements similaires aux types existants, tel l'Ensemble ou la Séquence.
    Ils se distinguent cependant des types traditionnels par leur spécification, qui supporte nativement les modifications concurrentes.
    À cette fin, les CRDTs incorporent un mécanisme de résolution de conflits au sein de leur spécification.

    Afin de résoudre les conflits de manière déterministe, les CRDTs associent généralement des identifiants aux éléments stockés au sein de la structure de données.
    Les identifiants doivent respecter un ensemble de contraintes en fonction du CRDT, telles que l'unicité ou l'appartenance à un ordre dense.
    Ces contraintes empêchent de borner la taille des identifiants.
    La taille des identifiants utilisés croît alors continuellement avec le nombre de modifications effectuées, aggravant le surcoût lié à l'utilisation des CRDTs par rapport aux structures de données traditionnelles.
    Le but de cette thèse est de proposer des solutions pour pallier ce problème.

    Nous présentons dans cette thèse deux contributions visant à répondre à ce problème :
    \begin{enumerate*}[label=(\roman*)]
      \item Un nouveau CRDT pour Séquence, RenamableLogootSplit, qui intègre un mécanisme de renommage à sa spécification.
      Ce mécanisme de renommage permet aux noeuds du système de réattribuer des identifiants de taille minimale aux éléments de la séquence.
      Cependant, cette première version requiert une coordination entre les noeuds pour effectuer un renommage.
      L'évaluation expérimentale montre que le mécanisme de renommage permet de réinitialiser à chaque renommage le surcoût lié à l'utilisation du CRDT.
      \item Une seconde version de RenamableLogootSplit conçue pour une utilisation dans un système distribué.
      Cette nouvelle version permet aux noeuds de déclencher un renommage sans coordination préalable.
      L'évaluation expérimentale montre que cette nouvelle version présente un surcoût temporaire en cas de renommages concurrents, mais que ce surcoût est à terme.
    \end{enumerate*}
    \KeyWords{CRDTs, édition collaborative en temps réel, cohérence à terme, optimisation mémoire, performance}
  \end{FrenchAbstract}
  \begin{EnglishAbstract}
    \KeyWords{CRDTs, real-time collaborative editing, eventual consistency, memory-wise optimisation, performance}
  \end{EnglishAbstract}
\end{ThesisAbstract}


\end{document}



